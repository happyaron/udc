<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://docbook.org/xml/4.3/docbookx.dtd">
<chapter id="lesson10">
  <title>Partitioning and Booting</title>

  <note>
    <title>Note:</title>

    <para>Partitioning and Booting is an additional section and not an
    integral part of the desktop course. Many users, especially corporate
    desktop users who have system administrators to set up their computers for
    them will find this section irrelevant. Home users, or advanced Ubuntu
    users may find this extremely useful.</para>
  </note>

<itemizedlist>
    <title>Objectives</title>

    <para>In this lesson, you will learn:</para>
         
         <listitem>
          <para>The benefits of partitioning</para>
        </listitem>

        <listitem>
          <para>How to create partitions</para>
        </listitem>

        <listitem>
          <para>How to configure start-up options</para>
        </listitem>
</itemizedlist>

  <sect1>
    <title>What is Partitioning</title>

    <formalpara>
      <title>Analogy Time</title>

      <para>Simply broken down, a new hard disk is similar to the foundations
      of a house - it needs some structure and walls before you can start
      putting things (like furniture) into it. The partition is the first
      level of foundation on the disk. Once the disk is logically carved up
      into partitions, it can be thought of as a house with rooms. Each
      partition (room) is of a specific size which could potentially be
      resized again after you move it, but would cause some disruption as
      objects get moved to make room. Once a partition (room) is created it
      can then be formatted using the filesystem of your choice. Once the
      filesystem has been laid down, it's possible to start populating the
      partition with data in the form of files and folders (furniture).</para>
    </formalpara>

    <para>So, a partition is a logical chunk of space allocated out of the
    entire disk. Depending on how a system is configured at installation time,
    there may be one or more partitions on a disk. In some instances, it is
    also possible to modify the layout, number and size of partitions, but
    this is often considered an expert's function.</para>

    <para>Many Microsoft Windows users will have just one large partition -
    often known as "C: drive", however it is also common for Microsoft Windows
    users to have multiple partitions which are labelled with successive
    alphabetic characters (D:, E: and so on).</para>

    <para>Similarly, with Ubuntu it's possible to install the system in
    exactly one partition on the disk, or spread data and applications over
    multiple partitions.</para>

    <figure float="0" id="fig-partioning">
      <title>Partitioning</title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="images/partitioning.png" width="4cm" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>

    <para>There are valid arguments for both scenarios. Having one single
    partition with all applications, libraries and data will result in a
    simple to manage system. It also provides flexibility as installing
    applications or adding data will use space from a common "pool".</para>

    <note>
      <title>Note:</title>

      <para>If you accept all the defaults when installing Ubuntu, you will
      end up with a system separated into two partitions on the disk.
      One contains all files, the other is known as "swap" which can be
      thought of as an extension to your computer's internal memory.</para>
    </note>

    <para>Alternatively, it is possible to create multiple partitions of
    differing sizes into which different types of applications, libraries and
    data can be placed. This is often used in a multi-user or server
    environment where user data is kept separate from system programmes, log
    files and configuration files. A significant benefit to this can be seen
    when there is a problem on the system and log files start to grow. The log
    files (in one partition) will not consume all available disk space in this
    scenario because they will be confined to their own (small) partition of
    the physical disk.</para>

    <para>Which ever partitioning scheme has been chosen, this is not set in
    stone. It is possible to use a partition editing utility to resize
    partitions (subject to sufficient free space in each partition), however
    this is quite an advanced topic, and generally nto done while the system is in use.</para>

    <note>
      <title>Note:</title>

      <para>Whilst it is possible to change the disk partitioning layout after
      the system has been installed, it is important to make backups before
      making any changes to the partitions.</para>
    </note>

    <formalpara>
      <title>About filesystems</title>

      <para>Partitioning a disk is only the beginning. Once the disk has been
      divided up, those partitions need to be formatted so that the
      operating system can place files on the disk in a structured manner.
      There are many different filesystem types, each with their own
      advantages. With Microsoft Windows the two main filesystems are FAT
      (File Allocation Table) and NTFS (New Technology File System). With
      Ubuntu there are many options including ext2, ext3, reiserfs, xfs and
      many others. The Ubuntu installer chooses ext3 by default, but of course
      it is possible to override this.</para>
    </formalpara>

    <tip>
      <title>Nice to Know:</title>

      <para>ext3 is a great general purpose journalling filesystem. It handles
      most tasks well however, xfs is sometimes chosen instead on media-centre
      systems as it performs better when handling very large files - such as
      music and video files.</para>
    </tip>

    <formalpara>
      <title>Mount points</title>

      <para>A mount point is a place in the directory hierarchy where a
      filesystem could be presented. There is no real Microsoft Windows
      equivalent to this. With Microsoft Windows the partitions C:, D: and so
      on, are seen as entirely separate entities so the operating system,
      applications and data is often referred to by a user as being "on the C:
      drive" or "in a folder on the D: drive".</para>
    </formalpara>

    <tip>
      <title>Nice to Know:</title>

      <para>"Mount" is the term used when referring to a filesystem being made
      available for access. CD and DVDs are usually automatically mounted when
      they are inserted. The same goes for USB connected devices such as
      memory sticks, hard disks and music players.</para>
    </tip>

    <para>On Ubuntu, files and folders reside within a partition as they do
    with Microsoft Windows. However the partition is not normally referenced
    directly by the user. The user would typically say that files are "in my
    home directory" (when referring to /home/&lt; username&gt;), or "in the
    root directory" (when referring to / ) without specifying which partition
    on the disk those directories reside in.</para>

    <para>Under most standard installations of Ubuntu there will be only one
    partition where all files and folders reside. However if a user plugs in
    an external USB-connected memory stick or USB hard disk, Ubuntu will mount
    the partition(s) on that device under mount point(s) within the directory
    tree. For example a USB attached memory stick or hard disk will usually
    appear under /media/disk (unless the device has partitions which are
    labelled, in which case they will appear under /media/&lt;labelname&gt;
    )</para>

    <formalpara>
      <title>Further considerations</title>

      <para>As previously mentioned, resizing partitions is not a trivial
      task. Under most circumstances it requires that all filesystems involved
      are unmounted, this means they must not be in use. Typically then to
      resize partitions the system should be booted to an unused filesystem -
      such as a bootable Live CD. Considerable thought should therefor be
      given before partitioning a disk with regards to the number and sizes of
      partitions to be created to prevent later unnecessary resizing.</para>
    </formalpara>

    <caution>
      <title>Caution:</title>

      <para>You may run out of hard drive space in your home partition due to
      the sub-division of the drive into fixed-size partitions. This may occur
      even if the other partitions have plenty of usable space. Good and
      logical partitioning requires you to predict how much space each
      partition needs.</para>
    </caution>

    <para>For new users, home users and other single-user set-ups, a single
    root (/) partition with a swap partition would be the easiest and the most
    convenient to create and use. However, for multi-user systems or computers
    with lots of disk space, it is best to have the /home, /tmp, /usr and /var
    directories as individual partitions separate from the root (/)
    partition.</para>

    <para>Before partitioning your hard drive, you should consider the
    following: <itemizedlist>
        <listitem>
          <para>root: Also called the slash directory, it is the highest
          directory of the directory tree. When creating the root partition,
          you need to ensure that the root should contain the /etc, /bin,
          /sbin, /lib and /dev directories, otherwise you will not be able to
          boot-up the system. You also need to ensure that the root partition
          is allocated at least 150-250 MB of disk space.</para>
        </listitem>

        <listitem>
          <para>/home: This directory contains all user-specific files and
          data. On a multi-user system, every user will store personal data in
          a sub-directory of this directory. The size of this directory would
          depend on the number of users using the system and the files they
          store in this directory. Ideally, you should plan the disk space for
          this partition based on your planned usage. In general, about 100-MB
          disk space can be allocated for each user. However, you may need to
          reserve a lot more space if you are planning to save a lot of
          multi-media files in your home directory.</para>
        </listitem>
      </itemizedlist> <tip>
        <title>Nice to Know:</title>

        <para>It is good practice to have /home on a separate partition
        because it allows for a smoother transition from one distribution to
        another.</para>
      </tip> <itemizedlist>
        <listitem>
          <para>/var: This directory contains variable data, such as news
          chapters, e-mails, Web sites, databases and the packaging system
          cache. The size of this directory also depends on system usage. Most
          probably, the size of this directory would be dictated by your usage
          of the Ubuntu package management utilities. If you plan to install
          all the packages that Ubuntu offers, you need to allocate 2 to 3 GB
          of space for the /var directory. However, if you want to save hard
          disk space and do not plan any major software updates, you can get
          by with as little as 30- or 40-MB disk space for the /var
          directory.</para>
        </listitem>

        <listitem>
          <para>/tmp: This directory contains temporary data created by
          programmes. Some applications, including archive manipulators,
          CD/DVD authoring tools and multi-media software also use this
          directory to temporarily store image files. You need to plan space
          allocation for this directory based on your usage of these
          applications.</para>
        </listitem>

        <listitem>
          <para>/usr: This directory contains all user programmes (binaries),
          their documentation and supporting libraries. This directory tends
          to use the maximum space on the hard disk. Therefore, you should
          provide at least 500-MB disk space for this directory. But, you need
          to increase this space depending on the number and types of software
          packages you plan to install. Based on your planned usage and the
          available disk space, you may allocate 1.5 to 6 GB of disk space for
          this directory.</para>
        </listitem>
      </itemizedlist> <tip>
        <title>Nice to Know:</title>

        <para>The /usr partition is sometimes referred to as User System
        Resources and not user as was originally intended.</para>
      </tip></para>
  </sect1>

  <sect1>
    <title>Creating a Partition</title>

    <para>As mentioned earlier, multiple partitions are very useful especially
    in cases where a partition is corrupted, as it enables you to boot into
    GNU/Linux to fix the system, without having to reinstall the system. To do
    this, a root partition is required. This partition should contain the
    essential components of the system.</para>

    <caution>
      <title>Caution:</title>

      <para>The hard disk drive that you are formatting should not contain any
      data. If you have already formatted the drive and it contains data, skip
      the partitioning step and move to the next step - mounting.</para>
    </caution>

    <para>If the hard disk drive that you want to format is blank and
    unformatted, you can use either of the following tools to partition it:
    <itemizedlist>
        <listitem>
          <para>Partition Editor (GParted): GParted is useful for creating
          space for new operating systems, re-organising disk usage, copying
          data residing on hard disks and mirroring one partition with another
          (disk imaging).</para>
        </listitem>

        <listitem>
          <para>Command Line: The command line is faster and more powerful
          than GParted. When navigating through the file system, you can use
          the command line to jump from one directory to another in a split
          second. Use the command-line interface if you are comfortable using
          the Terminal.</para>
        </listitem>
      </itemizedlist></para>

    <para>If you want to create a partition using GParted, you need to first
    install GParted by using <emphasis role="strong">Add/Remove
    Applications</emphasis> or <emphasis role="strong">Synaptic Package
    Manager</emphasis>.</para>

    <sect2>
      <title>Partitioning Using Gparted</title>

      <procedure>
        <title>To partition the hard drive by using GParted:</title>

        <step performance="required">
          <para>On the <emphasis role="strong">System</emphasis> menu, point to
          <emphasis role="strong">Administration</emphasis> and then click
          <emphasis role="strong">Partition Editor</emphasis>. The <emphasis role="strong">GParted</emphasis> window opens.</para>

          <tip>
            <title>Nice to Know:</title>

            <para>GParted is also available from the Live CD.</para>
          </tip>

          <figure float="0">
            <title>GParted Window</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_010.png" width="17cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>
        </step>

        <step performance="required">
          <para>In the top-right corner of the <emphasis role="strong">GParted</emphasis> window is the drive drop-down box.
          You can use this box to select the hard drive that you need to
          partition by specifying the logical name you noted earlier. The
          Gparted window refreshes and shows you a representation of the
          selected drive.</para>

          <para>If the existing partitions on the drive have not yet been
          used, a white bar would run across the window. However, if the
          existing partitions contain some data, the data will be represented
          by a pale yellow area.</para>

          <note userlevel="instructor">
            <title>Instructor Notes:</title>

            <para>Explain how to read the specifications of the current
            partitions and file systems.</para>
          </note>     
        </step>

        <step performance="required">
          <para>You can either resize an existing partition or create a new
          partition in the unallocated space of the hard drive. Before
          resizing an existing partition, you must make sure that you unmount
          it by right-clicking the partition and then selecting <emphasis role="strong">Unmount</emphasis>. Remember that you cannot resize a
          partition to be smaller than the yellow area, which represents the
          data on the partition.</para>

          <para>To create a new partition in the unallocated drive space,
          right-click the area and select <emphasis role="strong">New</emphasis> on the short-cut menu. The <emphasis role="strong">Create new Partition</emphasis> dialogue box
          appears.</para>
          
          <figure float="0">
            <title>Creating a New Partition</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_011.png" width="17cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>  
        </step>

        <step performance="required">
          <para>The <emphasis role="strong">Create new
          Partition</emphasis> dialogue box allows you to select specifications
          for the new partition. Apart from defining the size of the new
          partition, you can also select the partition type, whether primary
          or logical, for the new partition. In addition, you can even define
          the file system to be used on the new partition. By default, Ubuntu
          uses the ext3 partitions. However, if you want the new drive to be
          readable by both Microsoft Windows and Ubuntu without installing
          anything extra, you can format it as Fat 32.</para>
          
          <figure float="0">
            <title>Create New Partition Box</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_012.png" width="12cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>

          <note>
            <title>Note:</title>

            <para>If you are creating a partition on a new hard drive, select
            Primary Partition. An SCSI or S-ATA hard disk can have a maximum
            of 4 primary partitions and 11 logical partitions while an
            integrated development environment (IDE) hard drive can have up to
            63 partitions overall. The primary partition used to house the
            logical partitions is called an extended partition. Unlike primary
            partitions, logical partitions must be contiguous: the blocks in
            the partition are following each other without any gap.</para>
          </note>
        </step>

        <step performance="required">
          <para>In the <emphasis role="strong">New Size (MiB)</emphasis> field,
          specify the size of the partition by using the up or down arrow key.
          You can also define the size by dragging the black bold arrows on
          the top white bar.</para>
        </step>
        
        <tip>
      		<title>Nice to Know:</title>

      		<para>According to ISO 2955, the upper case prefixes are 1000 base.
      		But in some software,they are used as 1024 base,such as 1GB is considered as 1024MB.
      		At the same time,the hardware manufacturers use 1000 base.In order to prevent ambiguity,
      		nowdays,some softwares perfered to use K,M,G etc as 1000 base,and Ki,Mi,Gi etc as 1024 base.
      		In this book,we just do so.</para>
      		<para> B is short of byte,which is 8 bit.
      		When ISPs talking about the speed of network,they usually use bit.</para>
      		<para>1Kbps is 1000 bit per second,then it is 1000/8 B/s=125B/s;</para>
      		<para>1Mbps is 1000*1000/8/1024=122.0703125 KB/s;</para>
      		<para>1Gbps is 1000*1000*1000/8/1024/1024=119.20928955078125 MB/s.</para>
    	</tip>

        <step performance="required">
          <para>Select Primary, Logical or Extended partition from the
          <emphasis role="strong">Create as</emphasis> drop-down list.</para>
        </step>

        <step performance="required">
          <para>Next, specify the file system by selecting from the <emphasis role="strong">Filesystem</emphasis> drop-down list.</para>
        </step>

        <step performance="required">
          <para>Click the <emphasis role="strong">Add</emphasis> button to
          complete the partition. The white bar updates to show a new
          partition on the disk.</para>
        </step>

        <step performance="required">
          <para>You can create multiple partitions at this stage by following
          the above-mentioned procedure and then clicking <emphasis role="strong">Apply</emphasis> to add them to the hard drive. The
          <emphasis role="strong">Apply operations to hard
          disk</emphasis> dialogue box appears.</para>
        </step>

        <step performance="required">
          <para>The <emphasis role="strong">Apply operations to hard
          disk</emphasis> dialogue box recommends that you back up data before
          performing the changes and seeks your final confirmation before
          applying the changes to the hard disk. Click the <emphasis role="strong">Apply</emphasis> button to partition and format the
          hard disk according to your specifications.</para>
          
          <figure float="0">
            <title>Confirmation Box</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_013.png" width="17cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>
        </step>

        <step performance="required">
          <para>The system starts applying the changes to the hard disk. The
          duration of the operation will depend on the size of the new
          partition. You can click the <emphasis role="strong">Details</emphasis> button to view more information
          about where and how changes are being made, whilst the operation is
          running.</para>
        </step>

        <step performance="required">
          <para>Once you receive a message that all the specified operations
          have been successfully completed, you can safely close the window by
          clicking the <emphasis role="strong">Close</emphasis> button.
          However, if something goes wrong and the process does not complete
          successfully, you can save the process output for future reference
          by clicking the <emphasis role="strong">Save
          Details</emphasis> button.</para>
          
          <figure float="0">
            <title>Applying Pending Operations Box</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_014.png" width="7cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>
        </step>

        <step performance="required">
          <para>The newly created partition is now visible in the <emphasis role="strong">GParted</emphasis> window. You will also notice that
          your system automounts the newly created partition.</para>
          
           <figure float="0">
            <title>GParted with New Partition</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_015.png" width="17cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>

          <para>Mounting refers to the process of attaching the newly created
          partition or drive to an existing directory to make it accessible.
          The directory where the new partition is attached is called the
          mount point. After the partition is mounted, you can access the
          files on that partition by accessing the mount point for the new
          partition. Early Linux distributions did not allow the auto-mounting
          of new partitions or drives. However, from Ubuntu 8.04 LTS, you can
          easily access the new partitions by auto-mounting the partitions.
          When you create a new partition, the new partition opens as a
          separate window and the partition appears as a disk icon on the
          desktop.</para>
        </step>

        <step performance="required">
          <para>When you no longer want to access the new partitions, you can
          unmount them by right-clicking the <emphasis role="strong">disk</emphasis> icon on the desktop and selecting the
          <emphasis role="strong">Unmount Volume</emphasis> option from the
          short-cut menu.</para>
        </step>
        
        <step performance="required">
          <para>If you want delete a existing partition,you can right-click the partition,
          and choose <emphasis role="strong">delete</emphasis>.</para>
          
          <figure float="0">
            <title>Deleting a Partition</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_016.png" width="17cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>
        </step>
      </procedure>
    </sect2>
  </sect1>

  <sect1>
    <title>Boot-up Options</title>

    <para>Booting up is a process through which the operating system is loaded
    into the computer's main memory or random access memory (RAM). The boot-up
    process starts when you turn on your computer. During this process, the
    BIOS takes control of your computer and decides where to look for software
    on the computer and in which order.Your computer's BIOS settings determine
    whether your computer will first check the hard disk or a floppy disc, CD,
    DVD or flash memory to start the booting-up process. If you have multiple
    operating systems installed on your computer, the BIOS configuration
    determines which operating system will be loaded first at boot-up.</para>

    <para>Only after all system files have been loaded into the main memory,
    is the operating system given control of the computer. The operating
    system performs the requested initial commands and then waits for the
    first interactive user input.</para>

    <para>However, as a superuser or user with administrative privileges, it
    is possible for you to change the boot-up configuration to define the
    computer's boot order, change the default operating system to boot-up or
    make a system command run automatically at boot-up.</para>

    <para>One way to change or check your BIOS setting is to restart your
    computer, and press a key to enter the setup function before it starts to
    load any operating system. Generally, you can do this by pressing F1, F2,
    ESC or DELETE. Once you are inside the BIOS setup, you can make the
    desired changes by following the instructions for using the setup.
    However, you need to be very cautious when making any changes in the BIOS
    settings because a wrong setting can prevent your computer from booting-up
    properly.</para>

    <para>You can also perform these configuration changes by using a command
    line on your computer's terminal.</para>

    <sect2>
      <title>Running a System Command Automatically at Start-Up</title>

      <para>At times, you may wish to add a custom command for the start-up
      process so that your computer executes this command every time it boots
      up.</para>

      <procedure>
        <title>To run a system command automatically at start-up:</title>

        <step performance="required">
          <para>On the Terminal, type the following command to open the
          rc.local file:</para>

          <screen format="linespecific">$ sudo nano /etc/rc.local</screen>

          <figure float="0">
            <title>Terminal Window</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_019.png" width="17cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>

          <para>The rc.local file contains a script that is executed after all
          the other initial scripts. You can insert your own initialisation
          scripts in this file if you want some services to be executed
          automatically during the start-up process.</para>
        </step>

        <step performance="required">
          <para>The rc.local file opens in the Terminal window. Type the
          command that you want to run at system start-up before the line,
          exit 0.</para>

          <screen format="linespecific">$ date &gt; /home/oem/newbackup</screen>

          <figure float="0">
            <title>Making Settings for rc.local File</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_020.png" width="17cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>
        </step>

        <step performance="required">
          <para>After you enter the command you want executed at system
          start-up, press CTRL+X to save and exit the edited file.</para>

          
        </step>

        <step performance="required">
          <para>When you reboot the system, the rc.local file executes. If you
          want to display the output of the above command, type the following
          command in the Terminal:</para>

          <screen format="linespecific">$ cat newbackup</screen>

          <para>The following image shows the output of the above
          command:</para>
          <figure float="0">
            <title>The content of newbackup</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_017.png" width="17cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>
        </step>
      </procedure>
    </sect2>

    <sect2>
      <title>Changing the Default Operating System at Boot</title>

      <para>When multiple operating systems are installed on a computer, this
      is referred to as a multi-boot configuration. Typically, the operating
      system that is listed on top in the configuration file is loaded on the
      computer. To choose the operating system that starts when you turn on
      your computer, edit the grub configuration file.</para>

      <procedure>
        <step performance="required">
          <para>Back up the configuration file, and open it in a text editor,
          as follows:</para>

          <screen format="linespecific">$ sudo cp /etc/default/grub /etc/default/grub_backup 
$ sudo gedit /etc/default/grub</screen>
        </step>

        <step performance="required">
          <para>Find the line written below to change the default
          sequence:</para>

          <screen format="linespecific">... default 0 ...</screen>

          <para>Replace this line with the following line:</para>

          <screen format="linespecific">default X</screen>

          <para>Replace X with a number based on the order in which your
          operating systems appear in the configuration file. You should start
          counting from 0. For example, if you wish the default operating
          system to be the first in the list, replace X with 0; and if you
          wish the default operating system to be the second in the list,
          replace X with 1.</para>
        </step>

        <step performance="required">
          <para>Save this file and shut down editor.Then run the commond follew</para>
          <screen format="linespecific">sudo update-grub</screen>
        </step>
        
        <step performance="required">
          <para>Now you can reboot your system and can see that the Default operating system have been changed.</para>
        </step>
      </procedure>
    </sect2>

    <sect2>
      <title>Configuring Start-Up Services</title>

      <para>When Ubuntu starts up, many services are started for your
      convenience. Some services are mandatory for Ubuntu to work properly on
      your computer. Others are services that you'll probably never need,
      either because you just do not want them (for example, ntpdate, which
      sets your system time from a time server) or you simply don't have the
      device (for example, the HP printing and scanning system, which is of no
      use if you don't own an HP device).</para>

      <para>Although these services are harmless, they increase your
      computer's start-up time. By de-activating some of these services, you
      should get a slightly faster start-up time.</para>

      <caution>
        <title>Caution:</title>

        <para>Read the service information before you disable any service
        because disabling some services may stop your system from booting-up
        or running properly.</para>
      </caution>

      <para>To configure the start-up services, you need to have
      administrative privileges. Then, perform the following steps:</para>

      <procedure>
        <step performance="required">
          <para>On the <emphasis role="strong">System</emphasis> menu, point to
          <emphasis role="strong">Administration</emphasis> and then click
          <emphasis role="strong">Services</emphasis>.</para>
          
          <figure float="0">
            <title>Services Window</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_021.png" width="14cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>
        </step>

        <step performance="required">
          <para>Type your administrative password. The <emphasis role="strong">Services settings</emphasis> window opens.</para>
        </step>

        <step performance="required">
          <para>Select the services you want running by selecting or clearing
          the respective check boxes.</para>

          <figure float="0">
            <title>Services Settings Window</title>

            <mediaobject>
              <imageobject>
                <imagedata fileref="images/Lesson11_images_022.png" width="10cm" format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>
        </step>
        
        <step performance="required">
          <para>If you want to add a new item to list,click <emphasis role="strong">
          add</emphasis>;if you want delete an item from list,click <emphasis
          role="strong">delete</emphasis>; if you want to remember the opening software
          when next login,go to <emphasis role="strong">option</emphasis> tab, and
          select <emphasis role="strong">remember opening application when logout
          </emphasis> checkbox.
          </para>        
        </step>
      </procedure>

      <note userlevel="instructor">
        <title>Instructor Notes:</title>

        <para>If you want greater control over the boot-up services, install
        Boot-up Manager (bum). You can install bum from the Universe
        repository. You need to click the <emphasis role="strong">System</emphasis> menu, point to <emphasis role="strong">Administration</emphasis> and click <emphasis role="strong">Boot-up Manager</emphasis>.</para>
      </note>
    </sect2>
  </sect1>

  <sect1>
    <title>Lesson Summary</title>

    <para>In this lesson, you learned that: <itemizedlist>
        <listitem>
          <para>Partitioning your hard disk is similar to splitting rooms with
          walls in a house.</para>
        </listitem>

        <listitem>
          <para>You can run Ubuntu on a single or multiple partitions or
          drives.</para>
        </listitem>

        <listitem>
          <para>Before partitioning the hard drive, you should make sure that
          there is no data on the hard drive. If the hard drive on which you
          are creating a partition contains data and you wish to preserve it,
          it will be safer to back up the data before proceeding.</para>
        </listitem>

        <listitem>
          <para>You can create a partition by using both the partition editor
          and the command-line interface.</para>
        </listitem>

        <listitem>
          <para>It is possible for you to change the boot-up configuration to
          define the computer's boot order, change the default operating
          system to boot or make a system command run automatically at
          boot-up.</para>
        </listitem>

        <listitem>
          <para>To run a set of commands each time the system boots up, you
          need to include the commands in the /etc/rc.local file so that the
          computer executes them automatically at every boot-up.</para>
        </listitem>

        <listitem>
          <para>You can change the default operating system at boot by making
          changes in the configuration file.</para>
        </listitem>

        <listitem>
          <para>You must read the service information before disabling any
          service because disabling some services may stop your system from
          booting-up or running properly.</para>
        </listitem>
      </itemizedlist></para>
  </sect1>

  <sect1 role="questions">
    <title>Review Exercise</title>

    <qandaset>
      <qandaentry>
        <question>
          <para>What are the advantages of partitioning?</para>
        </question>

        <answer>
          <para>The following are the advantages of partitioning:</para>

          <itemizedlist>
            <listitem>
              <para>Minimises data loss</para>
            </listitem>

            <listitem>
              <para>Enhances security</para>
            </listitem>

            <listitem>
              <para>Enhances performance</para>
            </listitem>
          </itemizedlist>
        </answer>
      </qandaentry>

      <qandaentry>
        <question>
          <para>Why do you need to use the sudo command?</para>
        </question>

        <answer>
          <para>In Unix-based operating systems, you need to use the sudo
          command to run programmes that require administrative
          privileges.</para>
        </answer>
      </qandaentry>

      <qandaentry>
        <question>
          <para>Which of these file systems does Ubuntu use by default?</para>

          <itemizedlist>
            <listitem>
              <para>Fat 32</para>
            </listitem>

            <listitem>
              <para>NTFS</para>
            </listitem>

            <listitem>
              <para>Ext3</para>
            </listitem>
          </itemizedlist>
        </question>

        <answer>
          <para>c) Ext3</para>
        </answer>
      </qandaentry>

      <qandaentry>
        <question>
          <para>If you want to run a system command automatically at start-up,
          where should you add the command?</para>
        </question>

        <answer>
          <para>The command needs to be added to the /etc/rc.local
          file.</para>
        </answer>
      </qandaentry>

      <qandaentry>
        <question>
          <para>Is it possible to disable all the start-up services?
          Why?</para>
        </question>

        <answer>
          <para>No, it is not possible to disable all start-up services
          because disabling some services will stop your system from
          booting-up or running properly.</para>
        </answer>
      </qandaentry>
    </qandaset>
  </sect1>

  <sect1>
    <title>Lab Exercise</title>

    <formalpara>
      <title>Exercise 1</title>

      <para>As a previous Microsoft Windows user, you want to have a dual-boot
      configuration on your computer and create a separate partition to run
      Microsoft Windows on it. To perform this task, you need to create a 5-GB
      primary partition and format it with a Microsoft Windows-compatible file
      system.</para>
    </formalpara>

    <procedure>
      <title>Option a: To create a Partition using Partition Editor:</title>

      <step performance="required">
        <para>On the <emphasis role="strong">System</emphasis> menu, point to
        <emphasis role="strong">Administration</emphasis> and then click
        <emphasis role="strong">Partition Editor</emphasis>.</para>
      </step>

      <step performance="required">
        <para>In the drive drop-down box, select the hard drive you need to
        partition by specifying its logical name. The window refreshes and
        shows you a representation of the drive.</para>
      </step>

      <step performance="required">
        <para>Right-click the white bar and click <emphasis role="strong">New</emphasis> to create a new partition. The <emphasis role="strong">Create new Partition</emphasis> dialogue box appears, in
        which you choose the specifications of the new partition.</para>
      </step>

      <step performance="required">
        <para>In the <emphasis role="strong">New Size</emphasis> dialogue box,
        select the size of the new partition.</para>
      </step>

      <step performance="required">
        <para>In the <emphasis role="strong">Create as</emphasis> box, select
        <emphasis role="strong">Primary Partition</emphasis>.</para>
      </step>

      <step performance="required">
        <para>Next, specify the file system. Select ntfs.</para>
      </step>

      <step performance="required">
        <para>Click <emphasis role="strong">Add</emphasis> to compute the
        partition. The graphical display updates to show a new partition on
        the disk.</para>
      </step>

      <step performance="required">
        <para>If you are sure about the specification of the new partition,
        click <emphasis role="strong">Apply</emphasis>. The disk will be
        partitioned and formatted.</para>
      </step>
    </procedure>
  </sect1>
</chapter>
